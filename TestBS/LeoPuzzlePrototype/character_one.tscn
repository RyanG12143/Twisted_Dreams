[gd_scene load_steps=60 format=3 uid="uid://m23ls6buacwh"]

[ext_resource type="Script" path="res://TestBS/LeoPuzzlePrototype/character.gd" id="1_hdimr"]
[ext_resource type="AudioStream" uid="uid://dtk7e7kqf13yb" path="res://2D/SFX/Footsteps/Player_Grass/Grass_Footstep (1).wav" id="2_5rfkn"]
[ext_resource type="Texture2D" uid="uid://bjcaxdwetx18v" path="res://TestBS/LeoPuzzlePrototype/Assets/Siblings/YoungerSIbling_Jump.png" id="2_w3xmy"]
[ext_resource type="Texture2D" uid="uid://wsmf4tg6yjp6" path="res://TestBS/LeoPuzzlePrototype/Assets/Siblings/YoungerSIbling_Idle (1).png" id="3_3jilh"]
[ext_resource type="AudioStream" uid="uid://bwcb01p0lh1bq" path="res://2D/SFX/Footsteps/Player_Grass/Grass_Footstep (2).wav" id="3_syem7"]
[ext_resource type="Texture2D" uid="uid://qwdvoyvin8ge" path="res://TestBS/LeoPuzzlePrototype/Assets/Siblings/YoungerSIbling_Walk.png" id="4_1q2rl"]
[ext_resource type="AudioStream" uid="uid://b0x018nppvw1h" path="res://2D/SFX/Footsteps/Player_Grass/Grass_Footstep (3).wav" id="4_m710h"]
[ext_resource type="Script" path="res://TestBS/LeoPuzzlePrototype/2DChar_SMachine.gd" id="5_d1a66"]
[ext_resource type="AudioStream" uid="uid://sgs0bfpuykj0" path="res://2D/SFX/Footsteps/Player_Grass/Grass_Footstep (4).wav" id="5_wvc2x"]
[ext_resource type="AudioStream" uid="uid://twsg6b61t7ql" path="res://2D/SFX/Footsteps/Player_Grass/Grass_Footstep (5).wav" id="6_1w463"]
[ext_resource type="Script" path="res://TestBS/LeoPuzzlePrototype/2DChar_IdleState.gd" id="6_6jral"]
[ext_resource type="Script" path="res://TestBS/LeoPuzzlePrototype/2DChar_WalkState.gd" id="7_ne3ln"]
[ext_resource type="AudioStream" uid="uid://b571bu3624122" path="res://2D/SFX/Footsteps/Player_Grass/Grass_Footstep (6).wav" id="7_vl3ee"]
[ext_resource type="AudioStream" uid="uid://cobwb3k3akx08" path="res://2D/SFX/Footsteps/Player_Stone/Stone_Footstep (1).wav" id="8_8asds"]
[ext_resource type="Script" path="res://TestBS/LeoPuzzlePrototype/2DChar_JumpState.gd" id="8_yll86"]
[ext_resource type="AudioStream" uid="uid://boqvdun6knjld" path="res://2D/SFX/Footsteps/Player_Stone/Stone_Footstep (2).wav" id="9_h8fbw"]
[ext_resource type="Script" path="res://TestBS/LeoPuzzlePrototype/2DChar_FallState.gd" id="9_ictel"]
[ext_resource type="AudioStream" uid="uid://cs8u4m02j8d3v" path="res://2D/SFX/Footsteps/Player_Stone/Stone_Footstep (3).wav" id="10_k0dmu"]
[ext_resource type="Script" path="res://TestBS/LeoPuzzlePrototype/2DChar_LandState.gd" id="10_wojww"]
[ext_resource type="AudioStream" uid="uid://beu1s2ty7s114" path="res://2D/SFX/Footsteps/Player_Stone/Stone_Footstep (4).wav" id="11_o6cik"]
[ext_resource type="AudioStream" uid="uid://c6q0bmkyxf8q4" path="res://2D/SFX/Footsteps/Player_Stone/Stone_Footstep (5).wav" id="12_rnn8n"]
[ext_resource type="AudioStream" uid="uid://cgnxa01l5qkro" path="res://2D/SFX/Footsteps/Player_Stone/Stone_Footstep (6).wav" id="13_ihh4v"]
[ext_resource type="AudioStream" uid="uid://bbqlsddhattvv" path="res://2D/SFX/Footsteps/Player_Stone/Stone_Footstep (7).wav" id="14_bea8a"]
[ext_resource type="AudioStream" uid="uid://db6sac5krmmom" path="res://2D/SFX/Footsteps/Player_Stone/Stone_Footstep (8).wav" id="15_wd13f"]

[sub_resource type="AtlasTexture" id="AtlasTexture_ss1v1"]
atlas = ExtResource("2_w3xmy")
region = Rect2(160, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_6pvek"]
atlas = ExtResource("3_3jilh")
region = Rect2(0, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_tta5r"]
atlas = ExtResource("3_3jilh")
region = Rect2(32, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_ihfyu"]
atlas = ExtResource("3_3jilh")
region = Rect2(64, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_4mlex"]
atlas = ExtResource("3_3jilh")
region = Rect2(96, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_h5u1e"]
atlas = ExtResource("3_3jilh")
region = Rect2(128, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_flcie"]
atlas = ExtResource("3_3jilh")
region = Rect2(160, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_y7q2d"]
atlas = ExtResource("3_3jilh")
region = Rect2(192, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_pmfa7"]
atlas = ExtResource("3_3jilh")
region = Rect2(224, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_r64mh"]
atlas = ExtResource("3_3jilh")
region = Rect2(256, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_tac3f"]
atlas = ExtResource("2_w3xmy")
region = Rect2(0, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_wnfjs"]
atlas = ExtResource("2_w3xmy")
region = Rect2(32, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_j1s8q"]
atlas = ExtResource("2_w3xmy")
region = Rect2(64, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_hdks4"]
atlas = ExtResource("2_w3xmy")
region = Rect2(96, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_crwec"]
atlas = ExtResource("2_w3xmy")
region = Rect2(128, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_v3t4o"]
atlas = ExtResource("2_w3xmy")
region = Rect2(192, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_ewfsv"]
atlas = ExtResource("4_1q2rl")
region = Rect2(0, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_nxa0r"]
atlas = ExtResource("4_1q2rl")
region = Rect2(32, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_3eelu"]
atlas = ExtResource("4_1q2rl")
region = Rect2(64, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_wklrs"]
atlas = ExtResource("4_1q2rl")
region = Rect2(96, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_p03k7"]
atlas = ExtResource("4_1q2rl")
region = Rect2(128, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_im6il"]
atlas = ExtResource("4_1q2rl")
region = Rect2(160, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_vbty3"]
atlas = ExtResource("4_1q2rl")
region = Rect2(192, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_e5g2l"]
atlas = ExtResource("4_1q2rl")
region = Rect2(224, 0, 32, 32)

[sub_resource type="SpriteFrames" id="SpriteFrames_05c8r"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_ss1v1")
}],
"loop": true,
"name": &"Fall",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_6pvek")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_tta5r")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ihfyu")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_4mlex")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_h5u1e")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_flcie")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_y7q2d")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_pmfa7")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_r64mh")
}],
"loop": true,
"name": &"Idle",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_tac3f")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_wnfjs")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_j1s8q")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_hdks4")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_crwec")
}],
"loop": true,
"name": &"Jump",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_v3t4o")
}],
"loop": true,
"name": &"Land",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_ewfsv")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_nxa0r")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_3eelu")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_wklrs")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_p03k7")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_im6il")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_vbty3")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_e5g2l")
}],
"loop": true,
"name": &"Walk",
"speed": 5.0
}]

[sub_resource type="Animation" id="Animation_4wl1o"]
resource_name = "Fall"
length = 0.15
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"Fall"]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".:frame")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [0]
}

[sub_resource type="Animation" id="Animation_u6wxw"]
resource_name = "Idle"
length = 1.35
loop_mode = 1
step = 0.05
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.15, 0.3, 0.45, 0.6, 0.75, 0.9, 1.05, 1.2),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3, 4, 5, 6, 7, 8]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".:animation")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"Idle"]
}

[sub_resource type="Animation" id="Animation_ydmg0"]
resource_name = "Jump"
length = 0.5
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3, 0.4),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3, 4]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".:animation")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"Jump"]
}
tracks/2/type = "method"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("..")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [],
"method": &"play_ground_sound"
}]
}

[sub_resource type="Animation" id="Animation_se7u0"]
resource_name = "Land"
length = 0.15
step = 0.15
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"Land"]
}
tracks/1/type = "method"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("..")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [],
"method": &"play_ground_sound"
}]
}

[sub_resource type="Animation" id="Animation_ya7qh"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"Idle"]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".:frame")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [0]
}

[sub_resource type="Animation" id="Animation_xj35d"]
resource_name = "Walk"
length = 0.8
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3, 4, 5, 6, 7]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".:animation")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"Walk"]
}
tracks/2/type = "method"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("..")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0.2, 0.6),
"transitions": PackedFloat32Array(1, 1),
"values": [{
"args": [],
"method": &"play_ground_sound"
}, {
"args": [],
"method": &"play_ground_sound"
}]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_r4pau"]
_data = {
"Fall": SubResource("Animation_4wl1o"),
"Idle": SubResource("Animation_u6wxw"),
"Jump": SubResource("Animation_ydmg0"),
"Land": SubResource("Animation_se7u0"),
"RESET": SubResource("Animation_ya7qh"),
"Walk": SubResource("Animation_xj35d")
}

[sub_resource type="RectangleShape2D" id="RectangleShape2D_m36kf"]
size = Vector2(20, 32)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_befiv"]
size = Vector2(20, 1.45874)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ut1pr"]
size = Vector2(44.5833, 1.90476)

[node name="character_one" type="CharacterBody2D" node_paths=PackedStringArray("left_raycast", "right_raycast", "ground_raycast") groups=["Can_Press_Buttons", "Player"]]
z_index = 3
collision_layer = 2
collision_mask = 5
script = ExtResource("1_hdimr")
character_number = 1
left_raycast = NodePath("RayCastLeft")
right_raycast = NodePath("RayCastRight")
ground_raycast = NodePath("RayCastGround")
grass_sounds = Array[AudioStreamWAV]([ExtResource("2_5rfkn"), ExtResource("3_syem7"), ExtResource("4_m710h"), ExtResource("5_wvc2x"), ExtResource("6_1w463"), ExtResource("7_vl3ee")])
stone_sounds = Array[AudioStreamWAV]([ExtResource("8_8asds"), ExtResource("9_h8fbw"), ExtResource("10_k0dmu"), ExtResource("11_o6cik"), ExtResource("12_rnn8n"), ExtResource("13_ihh4v"), ExtResource("14_bea8a"), ExtResource("15_wd13f")])

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="."]
texture_filter = 1
texture_repeat = 1
position = Vector2(-0.5, -0.8)
scale = Vector2(1.05, 1.05)
sprite_frames = SubResource("SpriteFrames_05c8r")
animation = &"Idle"

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
root_node = NodePath("../AnimatedSprite2D")
libraries = {
"": SubResource("AnimationLibrary_r4pau")
}

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
shape = SubResource("RectangleShape2D_m36kf")

[node name="Area2D" type="Area2D" parent="."]
collision_layer = 0
collision_mask = 4

[node name="CollisionShape2D" type="CollisionShape2D" parent="Area2D"]
position = Vector2(-2.38419e-07, -16.4266)
scale = Vector2(0.999999, 1)
shape = SubResource("RectangleShape2D_befiv")

[node name="CrateSwapDetection" type="Area2D" parent="."]
position = Vector2(-0.5, -0.8)
scale = Vector2(1.05, 1.05)
collision_layer = 0
collision_mask = 4

[node name="CollisionShape2D" type="CollisionShape2D" parent="CrateSwapDetection"]
position = Vector2(0.47619, 15.0476)
scale = Vector2(1, 1)
shape = SubResource("RectangleShape2D_ut1pr")

[node name="StateMachine" type="Node" parent="." node_paths=PackedStringArray("initial_state")]
script = ExtResource("5_d1a66")
initial_state = NodePath("Idle")
character_num = 1

[node name="Idle" type="Node" parent="StateMachine"]
script = ExtResource("6_6jral")

[node name="Walk" type="Node" parent="StateMachine"]
script = ExtResource("7_ne3ln")

[node name="Jump" type="Node" parent="StateMachine"]
script = ExtResource("8_yll86")

[node name="Fall" type="Node" parent="StateMachine"]
script = ExtResource("9_ictel")

[node name="Land" type="Node" parent="StateMachine"]
script = ExtResource("10_wojww")

[node name="Disabled" type="Node" parent="StateMachine"]

[node name="RayCastRight" type="RayCast2D" parent="."]
position = Vector2(11, -15)
target_position = Vector2(0, 30)
hit_from_inside = true

[node name="RayCastLeft" type="RayCast2D" parent="."]
position = Vector2(-11, -15)
target_position = Vector2(0, 30)
hit_from_inside = true

[node name="RayCastGround" type="RayCast2D" parent="."]
position = Vector2(0, 15)
target_position = Vector2(0, 4)

[node name="AudioStreamPlayer2D" type="AudioStreamPlayer2D" parent="."]
bus = &"SFX"
